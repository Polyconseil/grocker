[uwsgi]

env = ${project_name_upper}_SERVICE=${service}
env = DJANGO_SETTINGS_MODULE=${project_name}.settings
env = ${project_name_upper}_CONFIG=${django_config_path}/*.ini

module = django.core.wsgi:get_wsgi_application()
pythonpath = /home/blue
home = /home/blue/app

socket = /tmp/uwsgi.sock
plugin = ${uwsgi_plugin_name},rsyslog

# redirect logs to /dev/log. uwsgi is the prefix in the log line
logger = rsyslog:${rsyslog_host},grocker_uwsgi,local6

master = true
workers = ${uwsgi_workers}
post-buffering = 1
backtrace-depth = 1
single-interpreter = true

buffer-size = 8192
harakiri = 610
max-requests = 5000
reload-on-as = 1536
reload-on-rss = 1024

stats-http = 127.0.0.1:8082
# FIXME: reload-on-as, reload-on-rss, harakiri maybe too high
